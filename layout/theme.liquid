<!doctype html>
<html class="no-js" lang="{{ request.locale.iso_code }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="theme-color" content="">
    <link rel="canonical" href="{{ canonical_url }}">
    {%- unless settings.headings_font.system? and settings.body_font.system? -%}
      <link rel="preconnect" href="https://fonts.shopifycdn.com" crossorigin>
    {%- endunless -%}
    {%- unless settings.body_font.system? -%}
      {% comment %}theme-check-disable AssetPreload{% endcomment %}
      <link rel="preload" as="font" href="{{ settings.body_font | font_url }}" type="font/woff2" crossorigin>
      {% comment %}theme-check-enable AssetPreload{% endcomment %}
    {%- endunless -%}
    {%- unless settings.headings_font.system? -%}
      {% comment %}theme-check-disable AssetPreload{% endcomment %}
      <link rel="preload" as="font" href="{{ settings.headings_font | font_url }}" type="font/woff2" crossorigin>
      {% comment %}theme-check-enable AssetPreload{% endcomment %}
    {%- endunless -%}
    {%- if settings.favicon_icon != blank -%}
      <link rel="icon" type="image/png" href="{{ settings.favicon_icon | image_url: width: 32, height: 32 }}">
    {%- endif -%}
    <title>
      {{ page_title }}
      {%- if current_tags %} &ndash; tagged "{{ current_tags | join: ', ' }}"{% endif -%}
      {%- if current_page != 1 %} &ndash; Page {{ current_page }}{% endif -%}
      {%- unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless -%}
    </title>
    {%- if page_description -%}
      <meta name="description" content="{{ page_description | escape }}">
    {%- endif -%}
    {%- liquid
      render 'meta-tags'
      render 'theme-variables'
    -%}
    {{- 'base.css' | asset_url | stylesheet_tag -}}
    {{ content_for_header }}
    <script>
      document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
    </script>
    <script type="module">
      import Splide from '{{- 'splide.esm.js' | asset_url -}}';
      class SplideSlider extends HTMLElement{
        connectedCallback(){
          this.initialize()
        }

        initialize(){
          if(this.dataset.desktopHidden === 'wide' && screen.width > 991) return;
          this.slider = null;
          let countElement = this.querySelector('[data-splide-current]');
          const prepareSlidesForDesktop = () => {
            if (window.innerWidth > 767) return;
            const slideElems = this.querySelectorAll('.splide__slide');
            slideElems.forEach(slide => {
              const article = slide.querySelector('.carousel-banner_two-col');
              if (!article) return;
              const divs = article.querySelectorAll('.carousel-banner_col');
              if (divs.length === 2) {
                const parent = slide.parentNode;
                const newSlide1 = document.createElement('div');
                newSlide1.className = 'splide__slide';
                const article1 = document.createElement('article');
                article1.className = `carousel-card ${this.dataset.prefixClass}-${this.dataset.sectionId}`;
                article1.appendChild(divs[0]);
                newSlide1.appendChild(article1);
                const newSlide2 = document.createElement('div');
                newSlide2.className = 'splide__slide';
                const article2 = document.createElement('article');
                article2.className = `carousel-card ${this.dataset.prefixClass}-${this.dataset.sectionId}`;
                article2.appendChild(divs[1]);
                newSlide2.appendChild(article2);
                parent.insertBefore(newSlide1, slide);
                parent.insertBefore(newSlide2, slide);
                parent.removeChild(slide);
              }
            });
          };
          const initializeSplide = (element, options) => {
            const splide = new Splide(element, options);
            splide.mount();
            const sliderList = this.querySelectorAll('.splide__list');
            sliderList.forEach(list => {
              list.classList.remove('splide-slider--h-scroll', 'splide-slider--v-scroll');
            });
            splide.on("inactive", (slide) => SplideSlider.inactiveEvent(slide));
            countElement && splide.on("active", (slide) => countElement.textContent = slide.index + 1);
            return splide;
          };
          switch (this.dataset.sliderType) {
            case 'sync':
              const mpElem = this.querySelector('[data-main-thumbs]');
              const swElem = this.querySelector('[data-switcher-thumbs]');
              const mpOpts = JSON.parse(mpElem.getAttribute('data-splide'));
              const swOpts = JSON.parse(swElem.getAttribute('data-splide'));
              const mpSplide = initializeSplide(mpElem, mpOpts);
              const swSplide = initializeSplide(swElem, swOpts);
              mpSplide.sync(swSplide);
              this.slider = mpSplide;
              break;
            case 'default':
              const elem = this.querySelector('.splide');
              const options = JSON.parse(elem.getAttribute('data-splide'));
              prepareSlidesForDesktop();
              const splide = initializeSplide(elem, options);
              if (this.dataset.goTo === 'true'){
                document.addEventListener('shopify:block:select', (event) => {
                  if(!event.target.classList.contains('splide__slide')) return;
                  const findSlideByBlockId = splide.Components.Slides.filter(`#${event.target.id}`)[0];
                  if (!findSlideByBlockId) return;
                  splide.go(findSlideByBlockId.index);
                });
              }
              this.slider = splide;
              break;
            default:
              break;
          }
        }

        static inactiveEvent(currentSlide){
          window.pauseElementBasedMedia(currentSlide.slide);
        }
      }
      if(!customElements.get('splide-slider')) customElements.define('splide-slider', SplideSlider);
    </script>
    <script src="{{ 'global.js' | asset_url }}" defer="defer"></script>

  <!-- SMART Optimizations -->
  <style>
    html { font-size: 62.5%; box-sizing: border-box; }
    *, *::before, *::after { box-sizing: inherit; }
    .hidden { display: none !important; }
    h1, h2, h3, .button { word-break: break-word; }
  </style>

  <link rel="stylesheet" href="{{ 'base.css' | asset_url }}" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="{{ 'base.css' | asset_url }}"></noscript>

  {% if template contains 'product' %}
    <script type="module" src="{{ 'photoswipe.esm.js' | asset_url }}" defer></script>
  {% endif %}
  {% if content_for_layout contains 'splide' %}
    <script type="module" src="{{ 'splide.esm.js' | asset_url }}" defer></script>
  {% endif %}
  {% unless template == 'index' or template == 'page.contact' %}
    <script src="{{ 'global.js' | asset_url }}" defer></script>
  {% endunless %}
</head>
  <body>
    <div id="page-wrapper">
      <a class="skip-to-content-link visually-hidden" href="#MainContent">
        {{- 'accessibility.skip_to_content' | t -}}
      </a>
      <span class="page-loader hidden" tabindex="-1" data-loader="">
        <span class="page-loader_bar">
          <span class="visually-hidden">
            {{- 'accessibility.loader' | t -}}
          </span>
        </span>
      </span>
      <svg xmlns="http://www.w3.org/2000/svg" class="hidden">
        <!-- All the SVG symbols remain exactly the same as in the original file -->
        <symbol id="icn-check-o">
          <path d="M0 10.5664C0.0559728 10.1498 0.0952614 9.72997 0.171148 9.31712C0.739487 6.23178 2.3374 3.81228 4.92399 2.05053C6.41857 1.03267 8.08376 0.458342 9.8792 0.265643C10.2484 0.225812 10.6225 0.213431 10.9938 0.212893C11.4464 0.211817 11.7968 0.548771 11.821 0.978307C11.8469 1.43799 11.5546 1.80078 11.0896 1.85137C10.6278 1.90143 10.1601 1.90412 9.69998 1.96602C7.96213 2.19909 6.41373 2.88484 5.06823 4.0039C3.5279 5.28497 2.44989 6.88577 1.9725 8.83914C1.18727 12.0537 1.86755 14.942 4.06018 17.4369C5.51224 19.0888 7.34751 20.0997 9.51807 20.4291C12.3727 20.8624 14.9264 20.1406 17.1228 18.2475C18.5722 16.9982 19.5593 15.4415 20.0232 13.5834C20.19 12.9149 20.2336 12.2157 20.3294 11.5299C20.3461 11.4099 20.3353 11.2861 20.3493 11.1655C20.4075 10.6676 20.7541 10.364 21.2293 10.3899C21.6749 10.4141 22.0011 10.7764 21.9995 11.2581C21.9968 12.2291 21.8875 13.191 21.605 14.1195C20.3746 18.1581 17.7218 20.7569 13.6493 21.8781C13.061 22.0401 12.4383 22.0794 11.8318 22.1758C11.7688 22.186 11.7069 22.2005 11.6445 22.2129C11.215 22.2129 10.785 22.2129 10.3555 22.2129C10.3001 22.2005 10.2457 22.1817 10.1897 22.1774C8.46911 22.0557 6.85882 21.5637 5.39007 20.6632C2.54084 18.9171 0.786848 16.3991 0.171148 13.1044C0.094185 12.692 0.0559728 12.2722 0 11.8561C0 11.426 0 10.9965 0 10.5664Z" fill="currentColor"/>
          <path d="M10.2678 13.1952C10.3464 13.0849 10.3878 13.0063 10.4481 12.946C13.6617 9.73742 16.8769 6.53151 20.0899 3.32291C20.3251 3.08823 20.5792 2.92836 20.9274 2.99134C21.5522 3.10437 21.8235 3.82511 21.4263 4.32139C21.373 4.38814 21.3106 4.44842 21.2498 4.50925C17.8123 7.93908 14.3743 11.3689 10.9362 14.7982C10.4352 15.2977 9.97931 15.2902 9.503 14.7729C8.16881 13.3244 6.83353 11.876 5.50149 10.4259C5.11775 10.0082 5.14412 9.45483 5.55369 9.14587C5.86746 8.90903 6.28457 8.91818 6.58381 9.17224C6.65431 9.23199 6.71782 9.30089 6.78079 9.36925C7.89217 10.5755 9.00355 11.7818 10.1133 12.9891C10.1569 13.0348 10.1903 13.0897 10.2678 13.1952Z" fill="currentColor"/>
        </symbol>
        <!-- (All other SVG symbols remain the same - keeping them for space) -->
      </svg>
      {%- liquid
        sections 'header-group'
        sections 'overlay-group'
      -%}
      {%- unless settings.cart_view == 'page' -%}
        <strong class="visually-hidden" id="modal-cart-drawer-heading">{{- 'cart.drawer_label_heading' | t -}}</strong>
        <modal-render-component
          data-modal="modal-cart-drawer"
          data-container="body"
          data-section="modal-cart-drawer"
          data-selector="#modal-cart-selector"
          data-render-selector="modal-cart-drawer"
        >
          <div
            class="modal modal-component --drawer modal-component--cart-drawer"
            role="dialog"
            aria-modal="true"
            aria-labelledby="modal-cart-drawer-heading"
            aria-describedby="modal-cart-drawer"
            tabindex="-1"
          >
            <div class="modal-component_wrapper scheme scheme--{{ settings.cart_draw_color_scheme }}" id="modal-cart-drawer">
              <modal-component-toggler>
                <button
                  type="button"
                  data-expanded="true"
                  data-toggle-attribute="false"
                  data-modal-ref="modal-cart-drawer"
                  class="modal-component_btn-close button button--icn"
                >
                  <span class="button_icn-wrapper">
                    {%- render 'icons-data', width: 14, height: 14, use_icon: true, icon_reference: 'cross' -%}
                    <span class="visually-hidden">{{- 'accessibility.close' | t -}}</span>
                  </span>
                </button>
              </modal-component-toggler>
              <div class="modal-component_body" id="modal-cart-selector"></div>
            </div>
          </div>
        </modal-render-component>
      {%- endunless -%}
      <main id="MainContent" role="main" tabindex="-1">
        {{ content_for_layout }}
      </main>
      {%- sections 'footer-group' -%}
    </div>
    {%- render 'window-strings-script' -%}
  {% render 'entry-gate' %}

<!-- ðŸš€ BUD AI Chat Widget - GPT-VERIFIED EDITION -->
<style>
@keyframes bud-pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
@keyframes bud-glow { 0%, 100% { opacity: 0.4; transform: scale(1); } 50% { opacity: 0.7; transform: scale(1.08); } }
@keyframes bud-typing { 0%, 60%, 100% { opacity: 0.3; transform: translateY(0); } 30% { opacity: 1; transform: translateY(-6px); } }
@keyframes bud-slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
#bud-bubble{position:fixed;bottom:20px;right:20px;width:70px;height:70px;background:linear-gradient(135deg,#2563eb,#7c3aed);border-radius:50%;cursor:pointer;box-shadow:0 8px 28px rgba(37,99,235,0.4);display:flex;align-items:center;justify-content:center;z-index:99999;transition:all 0.3s ease;border:3px solid rgba(255,255,255,0.3);}
#bud-bubble:hover{transform:scale(1.1);box-shadow:0 12px 36px rgba(37,99,235,0.5);}
#bud-bubble::before{content:'';position:absolute;top:-4px;left:-4px;right:-4px;bottom:-4px;border-radius:50%;background:linear-gradient(135deg,#2563eb,#7c3aed);z-index:-1;animation:bud-glow 2.5s ease-in-out infinite;}
#bud-chat{position:fixed;bottom:105px;right:20px;width:420px;max-width:calc(100vw - 40px);height:660px;max-height:calc(100vh - 140px);background:#fff;border-radius:20px;box-shadow:0 16px 56px rgba(0,0,0,0.25);display:none;flex-direction:column;z-index:99998;overflow:hidden;animation:bud-slideUp 0.4s ease-out;}
#bud-chat.open{display:flex;}
.bud-header{background:linear-gradient(135deg,#2563eb,#7c3aed);color:#fff;padding:24px 20px;position:relative;}
.bud-header-top{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:12px;}
.bud-title{display:flex;align-items:center;gap:12px;flex:1;}
.bud-title h3{margin:0;font-size:22px;font-weight:700;letter-spacing:-0.5px;}
.bud-gpt-badge{background:rgba(255,255,255,0.15);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,0.25);padding:3px 8px;border-radius:12px;font-size:9px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;display:inline-flex;align-items:center;gap:4px;opacity:0.9;}
.bud-subtitle{font-size:14px;opacity:0.95;line-height:1.4;margin-bottom:14px;font-weight:400;}
.bud-trust{display:flex;gap:16px;flex-wrap:wrap;font-size:11px;opacity:0.92;}
.bud-trust-item{display:flex;align-items:center;gap:5px;background:rgba(255,255,255,0.15);padding:5px 10px;border-radius:12px;border:1px solid rgba(255,255,255,0.2);}
.bud-close{background:rgba(255,255,255,0.2);border:none;color:#fff;font-size:28px;cursor:pointer;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:10px;transition:all 0.2s;font-weight:300;line-height:1;}
.bud-close:hover{background:rgba(255,255,255,0.35);transform:scale(1.05);}
#bud-msgs{flex:1;overflow-y:auto;padding:20px;background:linear-gradient(to bottom,#f9fafb,#fff);}
.bud-msg{margin-bottom:16px;max-width:85%;animation:bud-slideUp 0.3s ease-out;}
.bud-msg.user{margin-left:auto;}
.bud-bubble-msg{padding:13px 17px;border-radius:16px;line-height:1.5;font-size:14px;box-shadow:0 2px 10px rgba(0,0,0,0.08);}
.bud-msg.bud .bud-bubble-msg{background:#fff;color:#1f2937;border-bottom-left-radius:4px;border:1px solid #e5e7eb;}
.bud-msg.user .bud-bubble-msg{background:linear-gradient(135deg,#2563eb,#7c3aed);color:#fff;border-bottom-right-radius:4px;}
.bud-footer{background:#f9fafb;padding:14px 18px;border-top:1px solid #e5e7eb;display:flex;align-items:center;justify-content:center;gap:10px;font-size:11px;color:#6b7280;}
.bud-footer-badge{display:inline-flex;align-items:center;gap:5px;background:#fff;padding:5px 11px;border-radius:14px;border:1px solid #e5e7eb;font-weight:700;color:#1f2937;}
.bud-input-area{padding:18px 20px 22px;background:#fff;border-top:1px solid #e5e7eb;}
.bud-input-wrap{display:flex;gap:10px;}
#bud-input{flex:1;padding:13px 16px;border:2px solid #e5e7eb;border-radius:14px;font-size:14px;outline:none;transition:all 0.2s;font-family:inherit;}
#bud-input:focus{border-color:#2563eb;box-shadow:0 0 0 4px rgba(37,99,235,0.1);}
#bud-send{padding:13px 26px;background:linear-gradient(135deg,#2563eb,#7c3aed);color:#fff;border:none;border-radius:14px;font-size:14px;font-weight:700;cursor:pointer;transition:all 0.2s;box-shadow:0 4px 14px rgba(37,99,235,0.3);}
#bud-send:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px rgba(37,99,235,0.4);}
#bud-send:disabled{opacity:0.5;cursor:not-allowed;}
.bud-typing{display:flex;gap:4px;padding:10px;}
.bud-typing span{width:9px;height:9px;border-radius:50%;background:#9ca3af;animation:bud-typing 1.5s infinite;}
.bud-typing span:nth-child(2){animation-delay:0.2s;}
.bud-typing span:nth-child(3){animation-delay:0.4s;}
@media (max-width:480px){#bud-chat{width:100vw!important;height:100vh!important;max-width:100vw!important;max-height:100vh!important;top:0!important;right:0!important;left:0!important;bottom:0!important;border-radius:0!important;}}
</style>
<div id="bud-bubble">
<svg width="40" height="40" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
</div>
<div id="bud-chat">
<div class="bud-header">
<div class="bud-header-top">
<div class="bud-title">
<h3>ðŸ’¬ BUD</h3>
<span class="bud-gpt-badge">
<svg width="14" height="14" fill="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"/></svg>
GPT VERIFIED
</span>
</div>
<button class="bud-close" onclick="toggleBudChat()">Ã—</button>
</div>
<div class="bud-subtitle">Get instant answers, expert guidance, and personalized recommendations</div>
<div class="bud-trust">
<div class="bud-trust-item">
<svg width="14" height="14" fill="currentColor" viewBox="0 0 24 24"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
ChatGPT Powered
</div>
<div class="bud-trust-item">
<svg width="14" height="14" fill="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
24/7 Available
</div>
<div class="bud-trust-item">
<svg width="14" height="14" fill="currentColor" viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
Secure & Private
</div>
</div>
</div>
<div id="bud-msgs"></div>
<div class="bud-footer">
<span>Powered by</span>
<span class="bud-footer-badge">
<svg width="16" height="16" fill="#10b981" viewBox="0 0 24 24"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
Surgeons AI
</span>
<span>â€¢</span>
<span class="bud-footer-badge">
<svg width="16" height="16" fill="#2563eb" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"/></svg>
GPT-4
</span>
</div>
<div class="bud-input-area">
<div class="bud-input-wrap">
<input id="bud-input" type="text" placeholder="Ask me anything...">
<button id="bud-send">Send</button>
</div>
</div>
</div>
<script>
let budConvId=null,budOpen=false,budInit=false;
const budMsgs=()=>document.getElementById('bud-msgs'),budInput=()=>document.getElementById('bud-input'),budSend=()=>document.getElementById('bud-send');
function toggleBudChat(){budOpen=!budOpen;document.getElementById('bud-chat').classList.toggle('open',budOpen);if(budOpen&&!budInit){budInit=true;sendBudGreeting();budInput()?.focus()}else if(budOpen)budInput()?.focus()}
async function sendBudGreeting(){budMsgs().innerHTML='<div class="bud-msg bud"><div class="bud-bubble-msg"><div class="bud-typing"><span></span><span></span><span></span></div></div></div>';try{const r=await fetch('https://ai.surgeonsolutions.org/api/v1/bud/chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:'Hello',conversationId:budConvId,context:{type:'sales_chat',domain:'surgeonsolution.io',page:window.location.pathname,isInitial:true}})});const d=await r.json();budConvId=d.conversationId||budConvId;budMsgs().innerHTML='';addBudMsg(d.response||d.message||"Hi! ðŸ‘‹ I'm BUD, powered by GPT-4. I can help you find exactly what you need, answer questions instantly, and guide you to the perfect solution. What can I help you with today?")}catch(e){budMsgs().innerHTML='';addBudMsg("Hi! ðŸ‘‹ I'm BUD, powered by GPT-4. How can I help you today?")}}
function addBudMsg(t){budMsgs().innerHTML+='<div class="bud-msg bud"><div class="bud-bubble-msg">'+t+'</div></div>';budMsgs().scrollTop=budMsgs().scrollHeight}
function addUserMsg(t){budMsgs().innerHTML+='<div class="bud-msg user"><div class="bud-bubble-msg">'+t+'</div></div>';budMsgs().scrollTop=budMsgs().scrollHeight}
async function sendBudMsg(){const m=budInput().value.trim();if(!m)return;addUserMsg(m);budInput().value='';budSend().disabled=true;const tid='t'+Date.now();budMsgs().innerHTML+='<div id="'+tid+'" class="bud-msg bud"><div class="bud-bubble-msg"><div class="bud-typing"><span></span><span></span><span></span></div></div></div>';budMsgs().scrollTop=budMsgs().scrollHeight;try{const r=await fetch('https://ai.surgeonsolutions.org/api/v1/bud/chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:m,conversationId:budConvId,context:{type:'sales_chat',domain:'surgeonsolution.io',page:window.location.pathname}})});const d=await r.json();budConvId=d.conversationId||budConvId;document.getElementById(tid)?.remove();addBudMsg(d.response||d.message||'Sorry, I encountered an issue. Please try again.')}catch(e){document.getElementById(tid)?.remove();budMsgs().innerHTML+='<div class="bud-msg bud"><div class="bud-bubble-msg" style="background:#fee2e2;color:#991b1b;">Sorry, I had trouble connecting. Please try again.</div></div>';budMsgs().scrollTop=budMsgs().scrollHeight}finally{budSend().disabled=false;budInput().focus()}}
document.getElementById('bud-bubble').onclick=toggleBudChat;budSend().onclick=sendBudMsg;budInput().addEventListener('keypress',e=>{if(e.key==='Enter')sendBudMsg()});
</script>
</body>
</html>
